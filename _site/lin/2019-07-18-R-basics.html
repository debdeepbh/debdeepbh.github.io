<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Basics of R | Debdeep Bhattacharya</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Basics of R" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Installing packages in R using install.packages(&quot;ggplot2&quot;)" />
<meta property="og:description" content="Installing packages in R using install.packages(&quot;ggplot2&quot;)" />
<link rel="canonical" href="http://localhost:4000/lin/2019-07-18-R-basics.html" />
<meta property="og:url" content="http://localhost:4000/lin/2019-07-18-R-basics.html" />
<meta property="og:site_name" content="Debdeep Bhattacharya" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-18T00:00:00-04:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Basics of R","dateModified":"2019-07-18T00:00:00-04:00","datePublished":"2019-07-18T00:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/lin/2019-07-18-R-basics.html"},"url":"http://localhost:4000/lin/2019-07-18-R-basics.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/content/pic.jpg"}},"description":"Installing packages in R using install.packages(&quot;ggplot2&quot;)","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=a3555451272d0b86413349be08e7b7d63a7a35b1">
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">Debdeep Bhattacharya</a></h1>
        <!--
        
          <img src="" alt="Logo" />
        

        <p>Website</p>

	-->





        
        <p class="view"><a href="http://github.com/debdeepbh/debdeepbh.github.io">View the Project on GitHub <small>debdeepbh/debdeepbh.github.io</small></a></p>
        

        

        


	<!-- This is the navigation bar -->
	
		<nav>
  
  <a href="/lin/"  class=menuNormal >
	    &nbsp;Blog Home
     </a>
     <br>
  
  <a href="/lin/titles/"  class=menuNormal >
  &nbsp; &nbsp; Titles
  </a>
     <br>
  
  <a href="/lin/tags/"  class=menuNormal >
  &nbsp; &nbsp; Tags
  </a>
     <br>
  
  <a href="/lin/posts/"  class=menuNormal >
  &nbsp; &nbsp; Posts
  </a>
     <br>
  

  
</nav>

	

      </header>


      <section>


	      <h1> Basics of R </h1>
	    
<!--get date from  snippet-->
<small> 18 Jul 2019 </small>

<!--get taglist from  snippet-->

    
<div class="tagbox">
 	<a href="/lin/tags/#R">
<small>
		R 
</small>
	</a>
</div>
	

    
<div class="tagbox">
 	<a href="/lin/tags/#language">
<small>
		language 
</small>
	</a>
</div>
	

    
<div class="tagbox">
 	<a href="/lin/tags/#plot">
<small>
		plot 
</small>
	</a>
</div>
	

    
<div class="tagbox">
 	<a href="/lin/tags/#data">
<small>
		data 
</small>
	</a>
</div>
	

    
<div class="tagbox">
 	<a href="/lin/tags/#revise">
<small>
		revise 
</small>
	</a>
</div>
	




<p> 
	<h3 id="installing-packages-in-r-using">Installing packages in R using</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  install.packages("ggplot2") 
</code></pre></div></div>

<h3 id="data-manipulation-using-date">Data manipulation using date</h3>

<ul>
  <li>Add “day of the week” column to your data with date:
 Let the data be <code class="highlighter-rouge">tran</code> and <code class="highlighter-rouge">tran$Date</code> be in a date format (possibilities)
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tran$day &lt;- weekdays(as.Date(tran$Date))
</code></pre></div>    </div>
  </li>
  <li>Order your data by day of the week like this: (data is daily, day is <code class="highlighter-rouge">DoW</code>)
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>daily$DoW &lt;- factor(daily$DoW, levels= c("Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"))
 daily[order(daily$DoW), ]
</code></pre></div>    </div>
  </li>
  <li>Plot frequency distribution of days of the week
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>barplot(table(tran$day))
</code></pre></div>    </div>
  </li>
  <li>Create a sequence of weekdays, starting from today’s day like this:
Get today’s date
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>t &lt;- Sys.Date()
</code></pre></div>    </div>
  </li>
  <li>Create a sequence of 7 days:
Adjust t+const to fix the starting day
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dayseq &lt;- weekdays(seq.Date(t,t+6,by=1))
</code></pre></div>    </div>
    <p>Get the corresponding weekday value by</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>weekdays(dayseq)
</code></pre></div>    </div>
    <p>or,</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>daynames &lt;- weekdays(dayseq, abbreviate=TRUE)
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="renaming-attributes">Renaming attributes:</h3>
<p>Assume that you have a data with a variable name <code class="highlighter-rouge">Category</code>, and <code class="highlighter-rouge">Catergoy</code> can be either <code class="highlighter-rouge">Grocery</code>, <code class="highlighter-rouge">Shopping</code> or <code class="highlighter-rouge">Travel</code>. We would like to anonymize the data by renaming the 3 categories by the numbers <code class="highlighter-rouge">1</code>, <code class="highlighter-rouge">2</code>, and <code class="highlighter-rouge">3</code>.</p>

<p>In order to do that, first convert the variable into a factor using:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data$Category &lt;- factor(data$Category)
</code></pre></div></div>
<p>Then, you can use <code class="highlighter-rouge">levels(data$Category)</code> to get a vector with only 3 variables. You can change the factor <code class="highlighter-rouge">data$Category</code> the way you change a vector.</p>

<p>The problem is to edit an entry in the data frame which is a category type. For example, if you want to change <code class="highlighter-rouge">data[4,"Category"]</code> to <code class="highlighter-rouge">hello</code>, you cannot change it using <code class="highlighter-rouge">data[4,"Category"] &lt;- "hello"</code> !!!
Here is what you should do instead:</p>
<ol>
  <li>Change the type of Category variable to character using:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data$Category &lt;- as.character(data$Category)
</code></pre></div>    </div>
  </li>
  <li>Edit the value:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data[4,"Category"] &lt;- "hello"
</code></pre></div>    </div>
  </li>
  <li>Change the variable type back to factor:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data$Category &lt;- factor(data$Category)
</code></pre></div>    </div>
  </li>
</ol>

<p>It is a bit annoying.</p>

<h3 id="ggplot2-examples">ggplot2 examples</h3>

<ul>
  <li>A line plot :
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>qplot(x=Date, y=Amount, data=tran, geom=c('point','line'), color=Category, alpha = I(0.7))
</code></pre></div>    </div>
  </li>
  <li>The following prints number of times we did grocery, shopping etc w.r.t. date
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>qplot(factor(timeS), data=tran, geom="bar", fill=factor(Category))
</code></pre></div>    </div>
  </li>
  <li>The following prints two side by side maps for each user. Each picture contains the count of <code class="highlighter-rouge">Grocery</code>, <code class="highlighter-rouge">Shopping</code> and <code class="highlighter-rouge">Travel</code> represented by different colors. The x-axis is time span.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggplot(tran, aes(timeS, fill=Category)) + geom_bar() + facet_wrap(~ User) 
</code></pre></div>    </div>
    <p>A slight invariant:</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggplot(tran, aes(timeS, fill=User)) + geom_bar() + facet_wrap(~ Category)
</code></pre></div>    </div>
    <p><code class="highlighter-rouge">stat='identity'</code> is the option that lets you plot y vs x instead of the default statistics count.</p>
  </li>
  <li>Plot amount vs date/timeS, stacked with category
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggplot(tran) + geom_bar(aes(timeS, Amount, fill=Category), stat='identity')
</code></pre></div>    </div>
    <p>With separate user:</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggplot(tran) + geom_bar(aes(timeS, Amount, fill=Category), stat='identity') + facet_wrap(~ User)
</code></pre></div>    </div>
  </li>
  <li>Seperate picture by category, both users in the same picture, 2 rows of pictures
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggplot(tran) + geom_bar(aes(x=timeS, y=Amount, fill=User), stat='identity') + facet_wrap(~ Category, nrow = 2)
</code></pre></div>    </div>
  </li>
  <li><code class="highlighter-rouge">Facet_wrap</code> w.r.t User of all categories with a greyscale of total amount of both users in the background
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggplot(tran) + geom_bar(aes(timeS, Amount, fill=Category), stat='identity') + geom_bar(data=transform(tran, User=NULL), aes(x=timeS, y=Amount), stat='identity', alpha=I(0.2)) + facet_wrap(~User)
</code></pre></div>    </div>
  </li>
  <li>
    <p>To have a picture in the background of every facet, we need to create a facet without the facet variable. For example, in the previous case, <code class="highlighter-rouge">transform(tran, User=NULL)</code> gives you a data without the facet variable <code class="highlighter-rouge">~User</code>. We plot a bar geometry of this data.</p>
  </li>
  <li>Alternate representation with <code class="highlighter-rouge">Category</code> and <code class="highlighter-rouge">User</code> interchanged
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ggplot(tran) + geom_bar(aes(timeS, Amount, fill=User), stat='identity') + geom_bar(data=transform(tran, Category=NULL), aes(x=timeS, y=Amount), stat='identity', alpha=I(0.2)) + facet_wrap(~Category)
</code></pre></div>    </div>
  </li>
</ul>

<p>In this context, <code class="highlighter-rouge">manysum</code> is nothing but</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggplot(tran) + geom_bar(aes(timeS, Amount, fill=User), stat='identity')
</code></pre></div></div>


</p> 
      
	      <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
	this.page.url = 'http://localhost:4000/lin/2019-07-18-R-basics.html';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = '/lin/R-basics'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://debdeepbh.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      

      </section>

      
      
      <footer>

<!--Add the tags here-->
<!--Take all snippets from _lin and create a list of raw tags-->





<!--create a new array variable called tags from rawtags, where we remove duplicates-->





<body>
	Tags

    

    
<div class="tagbox">
 	<a href="/lin/tags/#R"> 
		<small>
		R
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#chat"> 
		<small>
		chat
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#client"> 
		<small>
		client
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#cocalc"> 
		<small>
		cocalc
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#compress"> 
		<small>
		compress
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#data"> 
		<small>
		data
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#df"> 
		<small>
		df
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#documentation"> 
		<small>
		documentation
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#extract"> 
		<small>
		extract
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#filesize"> 
		<small>
		filesize
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#folding"> 
		<small>
		folding
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#fstab"> 
		<small>
		fstab
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#gdrive"> 
		<small>
		gdrive
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#language"> 
		<small>
		language
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#manpage"> 
		<small>
		manpage
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#math"> 
		<small>
		math
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#merge"> 
		<small>
		merge
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#mount"> 
		<small>
		mount
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#netcat"> 
		<small>
		netcat
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#notetaking"> 
		<small>
		notetaking
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#partition"> 
		<small>
		partition
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#patch"> 
		<small>
		patch
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#pdf"> 
		<small>
		pdf
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#pdftk"> 
		<small>
		pdftk
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#pid"> 
		<small>
		pid
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#plot"> 
		<small>
		plot
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#process"> 
		<small>
		process
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#productivity"> 
		<small>
		productivity
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#ps"> 
		<small>
		ps
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#rc.d"> 
		<small>
		rc.d
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#remote"> 
		<small>
		remote
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#revise"> 
		<small>
		revise
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#sage"> 
		<small>
		sage
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#screenshot"> 
		<small>
		screenshot
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#server"> 
		<small>
		server
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#ssh"> 
		<small>
		ssh
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#taskwarrior"> 
		<small>
		taskwarrior
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#terminal"> 
		<small>
		terminal
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#todo"> 
		<small>
		todo
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#unzip"> 
		<small>
		unzip
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#utility"> 
		<small>
		utility
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#vim"> 
		<small>
		vim
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#xournal"> 
		<small>
		xournal
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#xserver"> 
		<small>
		xserver
		</small>
	</a>
</div>


    
<div class="tagbox">
 	<a href="/lin/tags/#zip"> 
		<small>
		zip
		</small>
	</a>
</div>


<!--end of adding tags-->

        
        <p>This project is maintained by <a href="http://github.com/debdeepbh">debdeepbh</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-90023312-2', 'auto');
      ga('send', 'pageview');
    </script>
    
  </body>
</html>
