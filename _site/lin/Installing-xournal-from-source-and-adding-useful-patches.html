
<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Installing xournal from source and adding useful patches | Debdeep Bhattacharya</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Installing xournal from source and adding useful patches" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="So, apt-get install doesn’t give you the latest version (e.g. now it is the 2.8.2016 version) or the patches the community developed." />
<meta property="og:description" content="So, apt-get install doesn’t give you the latest version (e.g. now it is the 2.8.2016 version) or the patches the community developed." />
<link rel="canonical" href="http://0.0.0.0:4000/lin/Installing-xournal-from-source-and-adding-useful-patches.html" />
<meta property="og:url" content="http://0.0.0.0:4000/lin/Installing-xournal-from-source-and-adding-useful-patches.html" />
<meta property="og:site_name" content="Debdeep Bhattacharya" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-09-25T01:30:43-04:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/lin/Installing-xournal-from-source-and-adding-useful-patches.html"},"@type":"BlogPosting","url":"http://0.0.0.0:4000/lin/Installing-xournal-from-source-and-adding-useful-patches.html","headline":"Installing xournal from source and adding useful patches","datePublished":"2019-09-25T01:30:43-04:00","dateModified":"2019-09-25T01:30:43-04:00","description":"So, apt-get install doesn’t give you the latest version (e.g. now it is the 2.8.2016 version) or the patches the community developed.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/content/pic.jpg"}},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=8111a77cbd821ff211bd63d46f22ce99739da1a3">
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://0.0.0.0:4000/">Debdeep Bhattacharya</a></h1>
        <!--
        
          <img src="" alt="Logo" />
        

        <p>Website</p>

	-->
        
        <p class="view"><a href="http://github.com/debdeepbh/debdeepbh.github.io">View the Project on GitHub <small>debdeepbh/debdeepbh.github.io</small></a></p>
        

        

        
      </header>


      <section>


	      <h2> Installing xournal from source and adding useful patches </h2>

      <p>So, apt-get install doesn’t give you the latest version (e.g. now it is the 2.8.2016 version) or the patches the community developed.</p>

<p>To install the development dependencies, do</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get build-dep xournal
</code></pre></div></div>

<p>Download the latest tar, extract it with</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tar -xf xournal.**.tar.gz
cd xournal.**
</code></pre></div></div>

<p>Details of patching can be found <a href="https://sourceforge.net/p/xournal/discussion/554377/thread/5d03da22/">here</a>:
Here is the summary:</p>

<p>Patch the source code with the download patch file</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>patch -p1 &lt; patchfile.patch
</code></pre></div></div>

<p>Note: if the patchfile is a tar file, extract and then -p1 should be change to -p2 or the required number of depth  of path.</p>

<p>Compile and install this modified source file, follow <a href="http://xournal.sourceforge.net/manual.html#installation">link</a></p>

<p>Summmary:</p>

<ul>
  <li>To install in the user directory (~/bin/), do:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./autogen.sh; ./configure --prefix=$HOME; make; make install; make home-desktop-install
</code></pre></div>    </div>
    <p>The last step is to set mime-type etc.</p>
  </li>
  <li>To install it in the system, do with sudo:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./autogen.sh
make
(as root) make install
(as root) make desktop-install
</code></pre></div>    </div>
  </li>
</ul>

<p>So far, I have used the following patches: various improvements, linewidth-patch, vi-style scrolling</p>

<p><strong>Caution</strong>: If you use the linewidth-patch, older versions of xournal will not be able to open the files saved by the patched version. Chances are, this patch will not end up in the official version in future, making all the files created with the patched version useless.</p>

<p>To log the input events, add the following line at the top of the file src/xo-callbacks.c:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#define INPUT_DEBUG 1
</code></pre></div></div>
<p>Then, compile and run from terminal to see all the input events popping up at the terminal.</p>



      </section>
      <footer>
        
        <p>This project is maintained by <a href="http://github.com/debdeepbh">debdeepbh</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-90023312-2', 'auto');
      ga('send', 'pageview');
    </script>
    
  </body>
</html>
